{"ast":null,"code":"import axios from 'axios';\nconst API = axios.create({\n  baseURL: 'http://127.0.0.1:8000/api/',\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\nlet get_token = () => {\n  return localStorage.getItem('authToken') ? JSON.parse(localStorage.getItem('authToken')) : null;\n};\n\nAPI.interceptors.request.use(async config => {\n  let token = get_token();\n\n  if (token) {\n    config.headers = { ...config.headers,\n      'Authorization': `Bearer ${token === null || token === void 0 ? void 0 : token.access}`\n    };\n  }\n\n  return config;\n}, error => Promise.reject(error));\nexport default API;","map":{"version":3,"names":["axios","API","create","baseURL","timeout","headers","get_token","localStorage","getItem","JSON","parse","interceptors","request","use","config","token","access","error","Promise","reject"],"sources":["D:/Website/NoteApp/frontend/src/ultis/API.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API = axios.create({\r\n    baseURL:'http://127.0.0.1:8000/api/',\r\n    timeout:10000,\r\n    headers:{\r\n        'Content-Type':'application/json',\r\n    }\r\n})\r\n\r\nlet get_token = ()=>{\r\n    return localStorage.getItem('authToken')?JSON.parse(localStorage.getItem('authToken')):null\r\n}\r\n\r\nAPI.interceptors.request.use(\r\n    async (config)=>{\r\n        let token = get_token()\r\n        if(token){\r\n            config.headers = {\r\n                ...config.headers,\r\n                'Authorization':`Bearer ${token?.access}`\r\n            }\r\n        }\r\n        return config\r\n    },(error)=>Promise.reject(error)\r\n)\r\n\r\nexport default API"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;EACrBC,OAAO,EAAC,4BADa;EAErBC,OAAO,EAAC,KAFa;EAGrBC,OAAO,EAAC;IACJ,gBAAe;EADX;AAHa,CAAb,CAAZ;;AAQA,IAAIC,SAAS,GAAG,MAAI;EAChB,OAAOC,YAAY,CAACC,OAAb,CAAqB,WAArB,IAAkCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAlC,GAAgF,IAAvF;AACH,CAFD;;AAIAP,GAAG,CAACU,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACI,MAAOC,MAAP,IAAgB;EACZ,IAAIC,KAAK,GAAGT,SAAS,EAArB;;EACA,IAAGS,KAAH,EAAS;IACLD,MAAM,CAACT,OAAP,GAAiB,EACb,GAAGS,MAAM,CAACT,OADG;MAEb,iBAAiB,UAASU,KAAV,aAAUA,KAAV,uBAAUA,KAAK,CAAEC,MAAO;IAF3B,CAAjB;EAIH;;EACD,OAAOF,MAAP;AACH,CAVL,EAUOG,KAAD,IAASC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAVf;AAaA,eAAehB,GAAf"},"metadata":{},"sourceType":"module"}