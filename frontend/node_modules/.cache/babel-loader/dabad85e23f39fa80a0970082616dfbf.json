{"ast":null,"code":"import _regeneratorRuntime from\"D:/Website/Note/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"D:/Website/Note/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/Website/Note/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';var API=axios.create({baseURL:'http://127.0.0.1:8000/api/',timeout:10000,headers:{'Content-Type':'application/json'}});var get_token=function get_token(){return localStorage.getItem('authToken')?JSON.parse(localStorage.getItem('authToken')):null;};API.interceptors.request.use(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(config){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=get_token();if(token){config.headers=_objectSpread(_objectSpread({},config.headers),{},{'Authorization':\"Bearer \".concat(token===null||token===void 0?void 0:token.access)});}return _context.abrupt(\"return\",config);case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),function(error){return Promise.reject(error);});export default API;","map":{"version":3,"names":["axios","API","create","baseURL","timeout","headers","get_token","localStorage","getItem","JSON","parse","interceptors","request","use","config","token","access","error","Promise","reject"],"sources":["D:/Website/Note/frontend/src/ultis/API.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API = axios.create({\r\n    baseURL:'http://127.0.0.1:8000/api/',\r\n    timeout:10000,\r\n    headers:{\r\n        'Content-Type':'application/json',\r\n    }\r\n})\r\n\r\nlet get_token = ()=>{\r\n    return localStorage.getItem('authToken')?JSON.parse(localStorage.getItem('authToken')):null\r\n}\r\n\r\nAPI.interceptors.request.use(\r\n    async (config)=>{\r\n        let token = get_token()\r\n        if(token){\r\n            config.headers = {\r\n                ...config.headers,\r\n                'Authorization':`Bearer ${token?.access}`\r\n            }\r\n        }\r\n        return config\r\n    },(error)=>Promise.reject(error)\r\n)\r\n\r\nexport default API"],"mappings":"yVAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,GAAMC,IAAG,CAAGD,KAAK,CAACE,MAAN,CAAa,CACrBC,OAAO,CAAC,4BADa,CAErBC,OAAO,CAAC,KAFa,CAGrBC,OAAO,CAAC,CACJ,eAAe,kBADX,CAHa,CAAb,CAAZ,CAQA,GAAIC,UAAS,CAAG,QAAZA,UAAY,EAAI,CAChB,MAAOC,aAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAlC,CAAgF,IAAvF,CACH,CAFD,CAIAP,GAAG,CAACU,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,4FACI,iBAAOC,MAAP,8HACQC,KADR,CACgBT,SAAS,EADzB,CAEI,GAAGS,KAAH,CAAS,CACLD,MAAM,CAACT,OAAP,gCACOS,MAAM,CAACT,OADd,MAEI,iCAA0BU,KAA1B,SAA0BA,KAA1B,iBAA0BA,KAAK,CAAEC,MAAjC,CAFJ,GAIH,CAPL,gCAQWF,MARX,wDADJ,+DAUM,SAACG,KAAD,QAASC,QAAO,CAACC,MAAR,CAAeF,KAAf,CAAT,EAVN,EAaA,cAAehB,IAAf"},"metadata":{},"sourceType":"module"}